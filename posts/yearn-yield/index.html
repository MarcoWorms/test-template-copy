<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marco Guaspari Worms">
<meta name="dcterms.date" content="2022-06-24">

<title>Worms Blog - Where does on-chain yield come from?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Worms Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/MarcoWorms" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MarcoWorms" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Where does on-chain yield come from?</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">english</div>
                <div class="quarto-category">yearn</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Marco Guaspari Worms </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 24, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><img src="https://cdn-images-1.medium.com/max/2000/1*5O-H6NtVnFCbf9bq9qK6ew.png" class="img-fluid"></p>
<p>DeFi is a large ecosystem with many different protocols, each offering different services and yield options. It can be thrilling to be on the hunt for the highest APY/APR (Annual Percentage Yields/Rates), still, it is essential to keep track of the sustainability of the source that pays out the yields so you don’t end up with unexpected losses. &gt; <strong><em>If you don’t know where the yield comes from, then it comes from you </em></strong>— I don’t know who wrote this originally but it fits the subject very well</p>
<section id="services-that-create-value" class="level2">
<h2 class="anchored" data-anchor-id="services-that-create-value">Services that create value</h2>
<p>The most reliable source of yield is taxing a useful service. Services provide real value to people using them and users are willing to let the service have a fair share of the money that traffics through since this often translates to a better and more secure product. Some examples of sustainable crypto services:</p>
<ul>
<li><strong>Bitcoin</strong> is the most resilient global permissionless money ledger–to use it, you have to spend Bitcoin to pay for service fees</li>
<li><strong>Ethereum</strong> is the most secure platform to deploy services for DeFi and Web3 — to use it, you have to spend Ethereum to pay for service fees</li>
<li><strong>Chainlink</strong> is the largest oracle provider–to use it, you have to spend Chainlink</li>
</ul>
<p>In the above services, we can see the pattern of the “protocol access token” (read more at <a href="https://www.usv.com/writing/2016/08/fat-protocols/">fat procools</a>) which creates a sustainable long-term cycle that rewards everyone invested in the protocol which brings more interest to it and fuels ever-more building around it, but this is not the only way to achieve long-term protocol sustainability:</p>
<ul>
<li><strong>Curve</strong> largest DeFi stablecoins trading protocol. CRV token holders receive trading fees</li>
<li><strong>AAVE</strong> is a DeFi lending platform where users can either use their borrowing service (paying fees) and/or provide tokens that will be used as protocol liquidity (receiving fees)</li>
</ul>
<p>In this second pattern, services allow users to become holders and earn a share of the profits by holding (and often locking) a specific token. Notice that in both patterns there are functioning services that people are willing to use and pay fees, and this is where the “Yield” comes from: in BTC and ETH miners receive the fees paid by the service usage, and in DeFi protocols the token-holders and liquidity providers get those instead.</p>
<p>There are other ways to generate sustainable yield on-chain, most of them revolve around providing a financial service and charging for operational risks, for example: providing insurance, or liquidity, or creating a new derivative asset with extra utility (like cvxCRV makes veCRV tradeable for example). Sustainability can be achieved by many methods but understanding how it is actually achieved should be always clear and documented and preferably on-chain.</p>
</section>
<section id="zero-sum-games" class="level2">
<h2 class="anchored" data-anchor-id="zero-sum-games">Zero-sum games</h2>
<p>If yields are high and service usability is low, it means that the money used to incentivize a part of the service is not coming from the service itself, so if the external money source dries the service breaks because yields will tend to go to 0.</p>
<p>A potential problem with zero-sum games is that people may not realize they have entered one. Economic relations are built on trust and overall trust goes down when a large-scale protocol breaks the expectation of many people.</p>
<p>Zero-sum games can be a misnomer. Not everyone is guaranteed to win with no losses. Here is an example that has impacted any DeFi newbie:</p>
<ul>
<li>A new Dex is released: HentaiSwap!! Also releases the $HENTAI token!</li>
<li>$HENTAI token gets trading fees from HentaiSwap!</li>
<li>You can stake $HENTAI for 420% APY! Just buy some and stake!!</li>
</ul>
<p>Red flags users should keep an eye on:</p>
<ul>
<li>Why do we need another Dex? What does this service does that other doesn’t? Why would someone unstake liquidity from Uniswap/Sushiswap/Curve and put it in HentaiSwap?</li>
<li>How much fees is this DEX generating? How close is it to 420%? Take a look at all other swap protocols: how much they pay for the same pairs when they have a lot of liquidity to compare fees/returns?</li>
<li>Why should I stake $HENTAI? Why is someone paying me to hold this token? Seems like they want me to buy this token to make the price go up for previous bag holders to profit, but what can I do with it besides just selling back staking profits to the market?</li>
<li>And finally: How many $HENTAI tokens the team mint for themselves in order to sell when market speculation is making it worth something in the market? Who is gonna lose money when they do?</li>
</ul>
</section>
<section id="positive-sum-games" class="level2">
<h2 class="anchored" data-anchor-id="positive-sum-games">Positive-sum games</h2>
<p>If in Zero-sum games someone always takes a loss for another to take a win, in positive-sum games both parties feel like they end up with more value after a transaction. Any service that provides value to users while charging a fair fee creates a positive-sum environment.</p>
<p>Let’s say we have 2 parties wanting to transact:</p>
<ul>
<li>a <strong>User</strong> needs to exchange 1 ETH to $2000 USD in order to pay rent</li>
<li>a <strong>Developer</strong> maintains a smart contract that allows exchange between both coins</li>
</ul>
<p>The transaction happens roughly like:</p>
<ol type="1">
<li>Maintaining software is a costly and constant exercise, so in order to keep the service running the <strong>Developer</strong> charges 0.5% swap fees</li>
<li><strong>User</strong> can’t pay bills with ETH and needs it converted, and every exchange will charge a swap fee to maintain their services</li>
<li>So the user swaps 1 ETH in the developer service and receives $1990, knowing that $10 went to pay for service maintenance</li>
</ol>
<p>Let’s take a snapshot of both parties before and after the transaction:</p>
<p><strong>Before</strong></p>
<ul>
<li>User: Had 2000$ in an illiquid asset that needed to become liquid for daily usage</li>
<li>Developer: Had 0$ income from this user to maintain service</li>
</ul>
<p><strong>After</strong></p>
<ul>
<li>User: Had 1990$ in a liquid asset that can be used to pay bills</li>
<li>Developer: Had 10$ income from this user to maintain service</li>
</ul>
<p>I hope that this example makes it clear that both parties feel like winning from this transaction. The 10$ that the user paid for the service is not seen as a loss from the user perspective because a service was provided and the fee that was paid allows this service to be here the next time the user needs it again.</p>
</section>
<section id="yearning-for-yearn" class="level2">
<h2 class="anchored" data-anchor-id="yearning-for-yearn">Yearning for Yearn</h2>
<p>When I joined DeFi I lost a lot of the money I put into rugs and zero-sum games, and I’m not alone in having this sort of experience. After learning more about the fundamentals of both trading and DeFi, I figured out the most important thing is understanding the underlying value of the assets and the quality of the protocols I am investing into, <strong>but there is a huge problem</strong>: the complexity to audit smart contracts and tokenomics is very high since it requires extensive financial, programming, and security experience, and for the average user the research might be too extensive for a “simple investment”, and for portfolios that have many tokens this research only gets more extensive.</p>
<p><a href="https://medium.com/iearn/yearn-finance-explained-what-are-vaults-and-strategies-96970560432">Yearn Vaults + Strategies</a> provides “DeFi investment experts as a service”: Yearn can focus on maintaining strategists that generate yield for tokens and the user can focus on which tokens they want to hold. This way any other protocol or even retail user can have a channel that safely generates yields for their funds and Yearn charges fees on top of yield profits, a positive-sum scenario, <a href="https://medium.com/iearn/diving-into-yearn-metrics-8c3fb0520927">fully transparent</a> on-chain.</p>
<p>DeFi still has a long road to run in order to become digestible to the average FIAT investor, today it relies heavily on yield-aggregators to minimize some of the common risks, if you will invest your money <em>(or even more sensitive: other people’s money)</em> today make sure you know exactly where your investment’s yield comes from so you don’t become another person’s yield.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>