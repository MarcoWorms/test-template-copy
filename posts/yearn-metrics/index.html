<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marco Guaspari Worms">
<meta name="dcterms.date" content="2022-02-17">

<title>Worms Blog - Diving into Yearn Metrics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Worms Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/MarcoWorms" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MarcoWorms" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Diving into Yearn Metrics</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">english</div>
                <div class="quarto-category">yearn</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Marco Guaspari Worms </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 17, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Doing your own research is a necessary exercise when dealing with crypto and for y<a href="https://medium.com/iearn/yearn-finance-explained-what-are-vaults-and-strategies-96970560432">Vaults and strategies</a> there are a handful of views that you can explore and use to crunch all the numbers. In this article I will dive into all public Yearn analytics resources used by strategists to monitor vaults and strategies health, so learning how to navigate these tools will allow you to have the same level of information about vaults as a Yearn team member. The three tools we’ll explore today are:</p>
<section id="the-vaults-at-yearn" class="level3">
<h3 class="anchored" data-anchor-id="the-vaults-at-yearn"><a href="https://vaults.yearn.finance/">The Vaults at Yearn</a></h3>
<ul>
<li>A comprehensive overview of all yVaults and strategy descriptions. A great place to start learning about how and where vault funds are delegated.</li>
</ul>
</section>
<section id="yearn-vision" class="level3">
<h3 class="anchored" data-anchor-id="yearn-vision"><a href="https://yearn.vision/">Yearn Vision</a></h3>
<ul>
<li>A complete interactive dashboard that can be used to analyze historical data for all vaults and strategies. This is where we’ll be able to extract and analyze any kind of historical data from yVaults and strategies usage.</li>
</ul>
</section>
<section id="yearn-watch" class="level3">
<h3 class="anchored" data-anchor-id="yearn-watch"><a href="https://yearn.watch/">Yearn Watch</a></h3>
<ul>
<li>A dashboard made by strategists for strategists that contains quick access to useful data about strategies health for each yVault.</li>
</ul>
</section>
<section id="the-vaults-at-yearn-1" class="level2">
<h2 class="anchored" data-anchor-id="the-vaults-at-yearn-1">The Vaults at Yearn</h2>
<p><strong>Link: <a href="https://vaults.yearn.finance/">https://vaults.yearn.finance/</a></strong></p>
<p>The Vaults at Yearn is a great resource to start understanding how funds are managed by a vault. Here you’ll find descriptions for all yVaults and their strategies:</p>
<p><img src="https://cdn-images-1.medium.com/max/2422/0*j-zPvbIX4Shaqeej.png" class="img-fluid"></p>
<p>On the left side, you can choose either Ethereum or Fantom vaults and they are aggregated as:</p>
<ul>
<li><p><strong>Stables</strong>: yVaults made for stablecoins</p></li>
<li><p><strong>DeFi Tokens</strong>: yVaults made for tokens from the DeFi ecosystem of the chosen network (ETH or FTM)</p></li>
<li><p><strong>Curve Pools</strong>: yVaults made for tokens from the <a href="https://curve.fi/">curve.fi</a> ecosystem</p></li>
<li><p><strong>Retired Vaults</strong>: old yVaults that aren’t used anymore</p></li>
</ul>
<p>When you choose a section you’ll see a list of vaults. You can click on a vault to expand it and see the descriptions of all the strategies that it uses:</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*7WquHAItYwdvG4FM.png" class="img-fluid"></p>
<p>If you want to dive deeper into numbers for each vault/strat you’ll need to hop into our next tool! Which is Yearn Vision:</p>
</section>
<section id="yearn-vision-1" class="level2">
<h2 class="anchored" data-anchor-id="yearn-vision-1">Yearn Vision</h2>
<p><strong>Link: <a href="https://yearn.vision/">https://yearn.vision/</a></strong></p>
<p>Yearn Vision is a complete analytics dashboard suite with many pre-made views to analyze historical data from vaults and strategies. Let’s breakdown some of what can be found here, starting with the home page:</p>
<p><img src="https://cdn-images-1.medium.com/max/3638/0*RXG2-53MF8YNLM87.png" class="img-fluid"></p>
<p><img src="https://cdn-images-1.medium.com/max/3654/0*o3GtfsKweVtpQG6z.png" class="img-fluid"></p>
<p>This page gives us a lot of information on the overall health of all Yearn Vaults.</p>
<p>There is information about TVL (Total Value Locked) which represents all funds deposited across all yVaults. We can see both Ethereum and Fantom total TVL and also each network slice. There are some charts showing daily/weekly deltas, which are comparisons with present data and past ones. “share price” is also an important metric to follow, it represents the vault’s lifetime gains in the form of a number which grows over time above 1.0. Below you can see a share price example for ETH to yETH. Here is how “share price” works:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/4000/0*D1MIWzh4B3MYspeU.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">how “share price” works</figcaption>
</figure>
</div>
<p>Back to the Vision dashboard, on the top-right corner, you can always change the time range which will update most charts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2000/0*hVzY25UtVJvd6MP_.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">change the time range in the top-right corner</figcaption>
</figure>
</div>
<p>Don’t get scared by the charts with many colors they normally show all vaults/strategies and you reduce the noise by selecting only the one you want to learn more about. You can click on the list of items to filter analytics by a single part, most of them will come with all items selected by default so you’ll have to pick the vault you want to check:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2000/0*cRMVresJnJqEYZ3R.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Unfiltered</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2000/0*Pe0OPO4UF0j4RIcB.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Filtered</figcaption>
</figure>
</div>
<p>“time since last report” means when this vault strategies were last harvested. The above “Filtered” chart is an example of all harvest from the USDC yVault that happened the last week, the vertical drop means that a harvest happened so “time since the last harvest/report” goes to 0</p>
<p>You can switch to other dashboards on the left side of the screen:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2000/0*eTINjW6pbboJqRPk.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">see all dashboards: <a href="https://yearn.vision/dashboards">https://yearn.vision/dashboards</a></figcaption>
</figure>
</div>
<p>Here you’ll find plenty of dashboard to dive deeper into what’s happening at Yearn!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2790/0*1ZflPmNGXqyG6eK3.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">dashboards used by strategist</figcaption>
</figure>
</div>
<p>Let’s take a peek at the “Vault Overview” dashboard:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/3642/0*tPnhXaapkQw7oduS.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Vault Overview Dashboard: <a href="https://yearn.vision/d/ibsIoEknkdffd/vault-overview?orgId=1">https://yearn.vision/d/ibsIoEknkdffd/vault-overview?orgId=1</a></figcaption>
</figure>
</div>
<p>In this Vault Overview dashboard we can see there are 6 active strategies for the USDC yVault: “totalDebt” is the amount that the vault is delegating to these strategies, “amount of free funds” means how many funds are available for cheap (gas-wise) withdrawal, when this number is less than the amount you’d like to withdraw then the transaction will cost a bit more gas because the vault will have to take funds delegated to strategies and make more operations in the process.</p>
<p><em>We’ll use yearn.watch later to look at how the funds are delegated proportionally for each strategy.</em></p>
<p>There are also great dashboards for inspecting Yearn’s overall health, and you can even monitor the DAO’s treasury:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cdn-images-1.medium.com/max/2726/0*uJ7fM6zvGP91TjcX.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Yearn Treasury Dashboard: <a href="https://yearn.vision/d/9_ppKhd7z/treasury">https://yearn.vision/d/9_ppKhd7z/treasury</a></figcaption>
</figure>
</div>
</section>
<section id="yearn-watch-1" class="level2">
<h2 class="anchored" data-anchor-id="yearn-watch-1">Yearn Watch</h2>
<p><strong>Link: <a href="https://yearn.watch/">https://yearn.watch/</a></strong></p>
<p>Yearn Watch is a dashboard made by strategists for strategists, so you can quickly navigate through important information about each strategy’s health. The home screen already greets you with all vaults:</p>
<p><img src="https://cdn-images-1.medium.com/max/2510/0*FslgAfqnGOVphKm3.png" class="img-fluid"></p>
<p>If you open a vault you’ll see information on assets allocation. I used a part of this view in the Yearn Vision section, let’s see the complete view for that USDC yVault:</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*qvqpzuC_AhYZGDK-.png" class="img-fluid"></p>
<p>The “details” view shows everything about the overall fund’s allocation. If you change to the “strategies” view you can dive even deeper and inspect each strategy individually and easily find their contracts and on-chain transactions.</p>
<p>Once inside a strategy, an insightful view is the “reports” (harvests) which show you the last 10 harvest transactions so you can monitor the real-time gains of the vault and monitor the profit from each harvest:</p>
<p><img src="https://cdn-images-1.medium.com/max/2506/0*pvvTK-6Vj2GvQp13.png" class="img-fluid"></p>
<p>Expanding an individual report for more information:</p>
<p><img src="https://cdn-images-1.medium.com/max/2314/0*gUrzN0GXFcHcwxQt.png" class="img-fluid"></p>
</section>
<section id="thats-yearn-folks" class="level2">
<h2 class="anchored" data-anchor-id="thats-yearn-folks">That’s Yearn Folks!</h2>
<p>I hope this article helps people extract good information about their deposits at Yearn! It’s great to be able to access the same tools that the veterans working on these products use to monitor them, there is a lot of valuable information about the past and present of Yearn’s yVaults and products.</p>
<p>Producer: <a href="https://twitter.com/MarcoWorms">*Worms</a><em>, Reviewer: <a href="https://github.com/DarkGhost7">*Dark Ghosty</a></em></p>
<p><em>Thanks a lot Dark Ghosty for going through all these dashboards and showing me how to navigate them ❤</em></p>
<p><strong>Made in <a href="https://yearn.finance/">yearn.finance</a></strong></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>